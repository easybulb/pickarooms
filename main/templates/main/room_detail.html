{% extends 'base.html' %}

{% block title %}Room Details{% endblock %}

{% block content %}
<section>
    {% if guest %}
        <h1>Welcome, {{ guest.full_name }}</h1>
        <h2>Room: {{ room.name }}</h2>

        <!-- Stay Duration -->
        <p><strong>Check-In Date:</strong> {{ guest.check_in_date }} - From 2pm</p>
        <p><strong>Check-Out Date:</strong> {{ guest.check_out_date }} - Anytime before 11am</p>

        <!-- Expiration Message -->
        <p><strong>Access Expiration:</strong> {{ expiration_message }}</p>

    {% else %}
        <p style="color: red;"><strong>No guest assigned to this room.</strong> If this is incorrect, please contact the admin.</p>
    {% endif %}

    <!-- Description with PIN -->
    <h2>Room Information</h2>
    <p>{{ room.description }}</p>

    <!-- Embed YouTube video -->
    <h2>Room Video Instructions</h2>
    <iframe width="600" height="400"
            src="{{ room.video_url }}"
            title="Room Video Instructions"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen>
    </iframe>

    <!-- Downloadable PDF -->
    <h2>Additional Resources</h2>
    <p><a href="/static/instructions/room_{{ room.id }}.pdf" download>Download Room Instructions (PDF)</a></p>
</section>
{% endblock %}
