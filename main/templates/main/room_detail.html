{% extends 'base.html' %}

{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/room_detail.css' %}">
{% endblock %}

{% block title %}Room Details - {{ room.name }}{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="room-hero" style="background-image: url('{{ room.image_url }}');">
    <div class="room-overlay"></div>
    <div class="room-text">
        <h1>{{ room.name }}</h1>
        {% if guest %}
            <p>Welcome, {{ guest.full_name }}</p>
        {% endif %}
    </div>
</section>

<!-- Room Details Section -->
<section class="room-container">
    <div class="room-info">
        <h2>ğŸ›ï¸ Room Details</h2>
        <p>{{ room.description }}</p>

        {% if guest %}
        <h2>ğŸ“… Your Stay</h2>
        <p><strong>Check-In Date:</strong> {{ guest.check_in_date }} (From 2 PM)</p>
        <p><strong>Check-Out Date:</strong> {{ guest.check_out_date }} (Anytime before 11 AM)</p>
        <p class="expiration"><strong>Access Expiration:</strong> {{ expiration_message }}</p>
        {% else %}
        <p class="no-guest">âŒ No guest assigned to this room. If this is incorrect, please contact the admin.</p>
        {% endif %}
    </div>

    <!-- Room Video Instructions -->
    <div class="room-video">
        <h2>ğŸ¥ Room Video Instructions</h2>
        <iframe width="100%" height="400"
                src="{{ room.video_url }}"
                title="Room Video Instructions"
                frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen>
        </iframe>
    </div>

    <!-- Additional Resources -->
    <div class="room-resources">
        <h2>ğŸ“„ Additional Resources</h2>
        <p><a href="/static/instructions/room_{{ room.id }}.pdf" download>ğŸ“¥ Download Room Instructions (PDF)</a></p>
    </div>
</section>

{% endblock %}
